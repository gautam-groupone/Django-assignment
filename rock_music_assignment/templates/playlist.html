<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Playlists</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .playlist { margin-bottom: 30px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
        .playlist h2 { margin-bottom: 10px; }
        .tracks { list-style-type: none; padding: 0; }
        .tracks li { margin: 5px 0; padding: 8px; background: #f8f8f8; border-radius: 4px; }
        .order { font-weight: bold; margin-right: 10px; color: #333; }
    </style>
</head>
<body>
    <h1>Playlists</h1>

    {% for playlist in playlists %}
        <div class="playlist">
            <h2>{{ playlist.name }}</h2>
            <ul class="tracks">
                {% for pt in playlist.playlist_tracks.all|dictsort:"order_number" %}
                    <li>
                        <span class="order">#{{ pt.order_number }}</span>
                        {{ pt.track.name }}
                        ({{ pt.track.album.name }} - {{ pt.track.album.artist.name }})
                    </li>
                {% empty %}
                    <li>No tracks in this playlist.</li>
                {% endfor %}
            </ul>
        </div>
    {% empty %}
        <p>No playlists found.</p>
    {% endfor %}
</body>
</html>
